###############################################
# E-Commerce API Environment Variable Template #
###############################################
# Copy this file to `.env` and replace placeholder values.
# NEVER commit a real SECRET_KEY or production credentials.

# --- Application Database (used by the app runtime) ---
# Single connection string the app & Alembic will consume.
# For local docker-compose with the bundled Postgres service use host `localhost` (from host) or `db` (from inside another service container).
DATABASE_URL=postgresql+asyncpg://<DB_USER>:<DB_PASSWORD>@<DB_HOST>:<DB_PORT>/<DB_NAME>

# --- Test Database (optional) ---
# If set, tests will use this DB; if omitted they may fallback to in-memory SQLite.
TEST_DATABASE_URL=postgresql+asyncpg://<DB_USER>:<DB_PASSWORD>@<DB_HOST>:<DB_PORT>/<TEST_DB_NAME>

# --- Authentication / Security ---
# Generate a strong secret for production (e.g. `python -c "import secrets; print(secrets.token_urlsafe(64))"`).
SECRET_KEY=<your-secret-key-here>
ACCESS_TOKEN_EXPIRE_MINUTES=<your-access-token-expiry-in-minutes-here> # e.g. 15
REFRESH_TOKEN_EXPIRE_DAYS=<your-refresh-token-expiry-in-days-here> # e.g. 7
JWT_ALGORITHM=<your-jwt-algorithm-here> # e.g. HS256
EMAIL_TOKEN_EXPIRE_HOURS=<your-email-token-expiry-in-hours-here> # e.g. 24

# Redis URL for caching and background tasks
REDIS_URL=redis://<REDIS_HOST>:<REDIS_PORT>/<REDIS_DB> # e.g. redis://localhost:6379/0
REDIS_HOST=<REDIS_HOST> # e.g. localhost
REDIS_PORT=<REDIS_PORT> # e.g. 6379
REDIS_DB=<REDIS_DB> # e.g. 0

# --- Email / Verification ---
MAIL_USERNAME=<your-email-username>
MAIL_PASSWORD=<your-email-password> # Consider using an app-specific password for better security
MAIL_FROM_NAME=<your-app-name> # e.g. ecommerce-api
MAIL_FROM=<your-email-address> # e.g. your-email@gmail.com
MAIL_PORT=<your-smtp-port> # e.g. 587 for TLS
MAIL_SERVER=<your-smtp-server> # e.g. smtp.gmail.com
SUPPRESS_SEND=False # Set to True to disable email sending (e.g. for local development)
DOMAIN=<your-domain-or-host> # e.g. localhost:8000 for local dev

# --- Docker Compose Postgres Service Variables ---
# These are used only to create & initialize the Postgres container. They should
# match the credentials embedded in DATABASE_URL above.
POSTGRES_USER=<DB_USER> # e.g. postgres
POSTGRES_PASSWORD=<DB_PASSWORD> # e.g. postgres
POSTGRES_DB=<DB_NAME> # e.g. ecommerce_api